{
  "name": "jsgui-node-png",
  "version": "0.4.107",
  "main": "jsgui-node-png.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "install": "node-gyp rebuild"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/metabench/jsgui-node-png"
  },
  "keywords": [
    "png",
    "image",
    "jsgui"
  ],
  "dependencies": {
    "jsgui-lang-essentials": "0.4.x",
    "jsgui-node-pixel-buffer": "0.1.x",
    "amdefine": ">=0.0.4"
  },
  "author": {
    "name": "James Vickers",
    "email": "james@metabench.com"
  },
  "description": "jsgui - PNG module. Load, save, use scanline filters, supports 32bpp rgba, 24bpp rgb, and 1, 2, 4 and 8 bpp indexed color. Optimizes the selection of scanline filters when saving.",
  "contributors": [
    {
      "name": "James Vickers",
      "email": "james@metabench.com"
    }
  ],
  "license": "MIT",
  "gypfile": true,
  "readme": "jsgui-node-png\n==============\n\nJsgui PNG Library for node.js. JavaScript implementation of some of the PNG spec. It has been optimized for performance, but it is also likely some ways could be found to speed it up further. This library also enables optimization of saved PNGs, where optimal scanline filters are chosen (this takes a few seconds on a moderately large image running on an Intel 2.2Ghz core). \n\nA valuable point of reference for PNGs is the specification at [http://www.libpng.org/pub/png/spec/iso/index-object.html](http://www.libpng.org/pub/png/spec/iso/index-object.html).\n\n\n##Installation\n\tnpm install jsgui-node-png\n\n## High level API\n\n###PNG Class\n####Constructor: init(spec)\n#####spec object\nValue Name     | Description \n------------   | ------------- \nsize           | [x, y] array specifying the dimensions of the image\ncolor_type     | The color type that is specified in the IHDR (header) chunk of the PNG. This library currently supports 2 (Truecolor), 3 (Indexed-color) and 6 (Truecolor with alpha).\nbit_depth      | The bit depth that is specified in the IHDR (header) chunk of the PNG. Supports 1, 2, 4, 8 for color_type 3 (Indexed-color) and 8 for color_type 2 (Truecolor) and 6 (Truecolor with alpha).\n\n    var png = new jsgui_node_png.PNG({\n        'size': [640, 480],\n        'color_type': 6,\n        'bit_depth': 8\n    });\n\nThe constructor initializes the internally used scanlines_buffer, which is a Buffer that stored the image data that is filtered according to the first byte of each scanline.\n\n###get_rgba_pixel_buffer()\nGets a jsgui-node-pixel-buffer object containing the image. That representation of the image is useful for doing image processing on an image where processing code for a raster image would be written to be independant of the image format.\n\n###optimize_filter_all_scanlines([options], callback)\nOptimizes the PNG by selecting the scanline filters for each scanline in the image with the aim of producing the best compression when the image is compressed using deflate, which is the standard compression for the PNG format.\n#####options object\nValue Name         | Data type    |  Description         |  Notes\n-------------------|--------------|----------------------|--------\noptimize           | string       | 'best' &#124; 'fast' | Currently 'best' is recommended\n\nThe callback is called with parameters, (err, res). The res (result) parameter is set to true on successful completion of the function.\n\n###save_to_stream(writable_stream, [options], callback)\n#####options object\nValue Name         | Data type    |  Description         |  Notes\n-------------------|--------------|----------------------|--------\noptimize           | string       | 'best' &#124; 'fast' | Currently 'best' is recommended\n\n###save_to_disk(file_path, [options], callback)\nSaves the PNG to the file system.\n#####options object\nValue Name         | Data type    |  Description         |  Notes\n-------------------|--------------|----------------------|--------\noptimize           | string       | 'best' &#124; 'fast' | Currently 'best' is recommended\n\n\n###load_from_buffer(buffer, callback)\nLoads from a Buffer into this PNG instance.\n\n###load_from_stream(readable_stream, callback)\nLoads from a ReadableStream into this PNG instance.\n\n###load_from_disk(source_path, callback)\nLoads from disk into this PNG instance.\n\n##Module functions\n###load_from_disk(source_path, callback)\nLoads a PNG instance from disk.\n\nThe callback is called with parameters (err, png)\n###load_metadata_from_disk(source_path, callback)\nLoads the metadata for a PNG from a file path\n\nThe callback is called with parameters (err, obj_metadata)\n###load_rgba_pixel_buffer_from_disk(source_path, callback)\nLoads a PNG file from the file system to a new rgba Pixel_Buffer\n\nThe callback is called with parameters (err, pixel_buffer)\n###save_rgba_pixel_buffer_to_disk(dest_path, [options], callback)\nSaves an rgba Pixel_Buffer to disk in the PNG format.\n#####options object\nValue Name              | Data type    |  Description   |  Notes\n------------------------|--------------|----------------|------------\nscanline_encoding       | number       | The number representing the scanline filter that is to be used for all scanlines (rows) in the image. | This takes less time than using the 'optimize' option, and using a set scanline filter (such as 1, 2, 3 or 4) can provide a good level of compression.\noptimize                | string       | 'best' &#124; 'fast' | Currently 'best' is recommended. \n\n### Low level API\n###PNG Class\n###ensure_unfiltered_scanlines_buffer()\nOnce the image has been loaded, an buffer containing unfiltered scanlines (all with their scanline filters set to 0) is created using this function. It carries out unfiltering on the byte values in the scanlines_buffer, outputting to the unfiltered_scanlines_buffer.\n\n##Notes\n### optimize\nThe 'best' method of scanline filter optimization selects filters for each scanline based on the size of data compressed when using that filter, taking into account data that has preceeded it. This submethod of optimize runs asyncronously using zlib.",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/metabench/jsgui-node-png/issues"
  },
  "homepage": "https://github.com/metabench/jsgui-node-png",
  "_id": "jsgui-node-png@0.4.107",
  "dist": {
    "shasum": "f265f39eca418a4cdc842fb392916bf78eb205ca"
  },
  "_from": "jsgui-node-png@",
  "_resolved": "https://registry.npmjs.org/jsgui-node-png/-/jsgui-node-png-0.4.107.tgz"
}
